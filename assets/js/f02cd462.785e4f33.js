"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8647],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>h});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var u=r.createContext({}),s=function(e){var t=r.useContext(u),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},c=function(e){var t=s(e.components);return r.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,u=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=s(a),h=n,m=p["".concat(u,".").concat(h)]||p[h]||d[h]||i;return a?r.createElement(m,l(l({ref:t},c),{},{components:a})):r.createElement(m,l({ref:t},c))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=p;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var s=2;s<i;s++)l[s]=a[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}p.displayName="MDXCreateElement"},1760:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var r=a(7462),n=(a(7294),a(3905));const i={},l="Location",o={unversionedId:"guide/api-reference/location",id:"guide/api-reference/location",title:"Location",description:"Prerequisites",source:"@site/docs/guide/2_api-reference/location.md",sourceDirName:"guide/2_api-reference",slug:"/guide/api-reference/location",permalink:"/admin-extension-sdk/docs/guide/api-reference/location",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"Guide",previous:{title:"Context",permalink:"/admin-extension-sdk/docs/guide/api-reference/context"},next:{title:"Notification",permalink:"/admin-extension-sdk/docs/guide/api-reference/notification"}},u={},s=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Location checks",id:"location-checks",level:2},{value:"Check the current location id",id:"check-the-current-location-id",level:3},{value:"Usage:",id:"usage",level:4},{value:"Parameters:",id:"parameters",level:4},{value:"Return value:",id:"return-value",level:4},{value:"Get the current location id",id:"get-the-current-location-id",level:3},{value:"Usage:",id:"usage-1",level:4},{value:"Return value:",id:"return-value-1",level:4},{value:"Check if current location is inside iFrame",id:"check-if-current-location-is-inside-iframe",level:3},{value:"Usage:",id:"usage-2",level:4},{value:"iFrame Heights",id:"iframe-heights",level:2},{value:"Parameters:",id:"parameters-1",level:4},{value:"Return value:",id:"return-value-2",level:4},{value:"Update the height of the location iFrame",id:"update-the-height-of-the-location-iframe",level:3},{value:"Usage:",id:"usage-3",level:4},{value:"Parameters:",id:"parameters-2",level:4},{value:"Return value:",id:"return-value-3",level:4},{value:"Start auto resizing of the iFrame height",id:"start-auto-resizing-of-the-iframe-height",level:3},{value:"Usage:",id:"usage-4",level:4},{value:"Parameters:",id:"parameters-3",level:4},{value:"Return value:",id:"return-value-4",level:4},{value:"Stop auto resizing of the iFrame height",id:"stop-auto-resizing-of-the-iframe-height",level:3},{value:"Usage:",id:"usage-5",level:4},{value:"Parameters:",id:"parameters-4",level:4},{value:"Return value:",id:"return-value-5",level:4},{value:"URL changes inside your app",id:"url-changes-inside-your-app",level:2},{value:"Update URL",id:"update-url",level:3},{value:"Usage:",id:"usage-6",level:4},{value:"Parameters:",id:"parameters-5",level:4},{value:"Start automatic URL updates",id:"start-automatic-url-updates",level:3},{value:"Usage:",id:"usage-7",level:4},{value:"Stop automatic URL updates",id:"stop-automatic-url-updates",level:3},{value:"Usage:",id:"usage-8",level:4}],c={toc:s};function d(e){let{components:t,...i}=e;return(0,n.kt)("wrapper",(0,r.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"location"},"Location"),(0,n.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.kt)("p",null,"We recommend you read the ",(0,n.kt)("a",{parentName:"p",href:"/admin-extension-sdk/docs/guide/concepts/locations"},"concept")," of locations first."),(0,n.kt)("h2",{id:"location-checks"},"Location checks"),(0,n.kt)("h3",{id:"check-the-current-location-id"},"Check the current location id"),(0,n.kt)("p",null,"Check if the current location matches the given location Id."),(0,n.kt)("h4",{id:"usage"},"Usage:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"if (sw.location.is('my-location-id')) {\n    // Render view for location\n}\n")),(0,n.kt)("h4",{id:"parameters"},"Parameters:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Required"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Default"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"locationId")),(0,n.kt)("td",{parentName:"tr",align:"left"},"true"),(0,n.kt)("td",{parentName:"tr",align:"left"}),(0,n.kt)("td",{parentName:"tr",align:"left"},"The location Id to check")))),(0,n.kt)("h4",{id:"return-value"},"Return value:"),(0,n.kt)("p",null,"Returns a boolean. It is ",(0,n.kt)("inlineCode",{parentName:"p"},"true")," if the location Id matches the current location."),(0,n.kt)("h3",{id:"get-the-current-location-id"},"Get the current location id"),(0,n.kt)("p",null,"Get the name of the current location ID"),(0,n.kt)("h4",{id:"usage-1"},"Usage:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"const currentLocation = sw.location.get()\n")),(0,n.kt)("h4",{id:"return-value-1"},"Return value:"),(0,n.kt)("p",null,"Returns a string with the name of the current location."),(0,n.kt)("h3",{id:"check-if-current-location-is-inside-iframe"},"Check if current location is inside iFrame"),(0,n.kt)("p",null,"Useful for hybrid extensions which are using plugin and Extension SDK functionalities together. You can use this\ncheck to separate code which should be executed inside the Extension SDK context and the plugin context."),(0,n.kt)("h4",{id:"usage-2"},"Usage:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"if (location.isIframe()) {\n    // Execute the code which uses the Admin-Extension-SDK context\n    import('./extension-code');\n} else {\n    // Execute the plugin code\n    import('./plugin-code');\n}\n")),(0,n.kt)("h2",{id:"iframe-heights"},"iFrame Heights"),(0,n.kt)("h4",{id:"parameters-1"},"Parameters:"),(0,n.kt)("p",null,"No parameters needed."),(0,n.kt)("h4",{id:"return-value-2"},"Return value:"),(0,n.kt)("p",null,"Returns a boolean. If it is executed inside a iFrame it returns ",(0,n.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,n.kt)("h3",{id:"update-the-height-of-the-location-iframe"},"Update the height of the location iFrame"),(0,n.kt)("p",null,"You can update the height of the iFrame with this method."),(0,n.kt)("h4",{id:"usage-3"},"Usage:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"sw.location.updateHeight(750);\n")),(0,n.kt)("h4",{id:"parameters-2"},"Parameters:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Required"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Default"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"iFrame height")),(0,n.kt)("td",{parentName:"tr",align:"left"},"false"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Auto generated"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The height of the iFrame. If no value is provided it will be automatically calculated from the current height.")))),(0,n.kt)("h4",{id:"return-value-3"},"Return value:"),(0,n.kt)("p",null,"This method does not have a return value."),(0,n.kt)("h3",{id:"start-auto-resizing-of-the-iframe-height"},"Start auto resizing of the iFrame height"),(0,n.kt)("p",null,"This methods starts the auto resizer of the iFrame height."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Auto resizing example",src:a(3131).Z,width:"800",height:"346"})),(0,n.kt)("h4",{id:"usage-4"},"Usage:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"sw.location.startAutoResizer();\n")),(0,n.kt)("h4",{id:"parameters-3"},"Parameters:"),(0,n.kt)("p",null,"No parameters needed."),(0,n.kt)("h4",{id:"return-value-4"},"Return value:"),(0,n.kt)("p",null,"This method does not have a return value."),(0,n.kt)("h3",{id:"stop-auto-resizing-of-the-iframe-height"},"Stop auto resizing of the iFrame height"),(0,n.kt)("p",null,"This methods stops the auto resizer of the iFrame height."),(0,n.kt)("h4",{id:"usage-5"},"Usage:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"sw.location.stopAutoResizer();\n")),(0,n.kt)("h4",{id:"parameters-4"},"Parameters:"),(0,n.kt)("p",null,"No parameters needed."),(0,n.kt)("h4",{id:"return-value-5"},"Return value:"),(0,n.kt)("p",null,"This method does not have a return value."),(0,n.kt)("h2",{id:"url-changes-inside-your-app"},"URL changes inside your app"),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"Do not use this feature yet. It is not implemented in a Shopware release yet.")),(0,n.kt)("p",null,"Important: You can track and emit your URL changes only inside your own main module or settings page."),(0,n.kt)("h3",{id:"update-url"},"Update URL"),(0,n.kt)("p",null,"Send the current URL of your iFrame to the administration. When the user reloads the whole page your iFrame will get the\nlast page you sent to the administration."),(0,n.kt)("h4",{id:"usage-6"},"Usage:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"const currentUrl = window.location.href;\n\nsw.location.updateUrl(new URL(currentUrl))\n")),(0,n.kt)("h4",{id:"parameters-5"},"Parameters:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Required"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Default"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"First parameter"),(0,n.kt)("td",{parentName:"tr",align:"left"},"true"),(0,n.kt)("td",{parentName:"tr",align:"left"}),(0,n.kt)("td",{parentName:"tr",align:"left"},"An URL object which contains your URL")))),(0,n.kt)("h3",{id:"start-automatic-url-updates"},"Start automatic URL updates"),(0,n.kt)("p",null,"To avoid manually sending URL changes you can use this helper methods. It sends automatically changes in your URL to the\nadministration."),(0,n.kt)("h4",{id:"usage-7"},"Usage:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"sw.location.startAutoUrlUpdater();\n")),(0,n.kt)("h3",{id:"stop-automatic-url-updates"},"Stop automatic URL updates"),(0,n.kt)("p",null,"If you had started an automatic URL updater before then you can stop it by calling this method."),(0,n.kt)("h4",{id:"usage-8"},"Usage:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"sw.location.stopAutoUrlUpdater();\n")))}d.isMDXComponent=!0},3131:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/auto-resizer-c312932409cf7781ca9318664b85df43.gif"}}]);